<!DOCTYPE html>
<html>
  <head>

    <link rel="icon" type="image/png" href="images/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="images/favicon-16x16.png" sizes="16x16" />
    <link rel='icon' href="favicon.ico" type="images/favicon.ico">

    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="search.css">

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>COVID-19 Graphs</title>

    <style>
      @import url('https://fonts.googleapis.com/css?family=Lato&display=swap');

      /* label color */
      .input-field label {
        color: #fff;
      }
      /* label focus color */
      .input-field input[type=text]:focus + label {
        color: #fff;
      }
      /* label underline focus color */
      .input-field input[type=text]:focus {
        border-bottom: 1px solid #fff;
        box-shadow: 0 1px 0 0 #fff;
      }
      /* valid color */
      .input-field input[type=text].valid {
        border-bottom: 1px solid #fff;
        box-shadow: 0 1px 0 0 #fff;
      }
      /* invalid color */
      .input-field input[type=text].invalid {
        border-bottom: 1px solid #fff;
        box-shadow: 0 1px 0 0 #fff;
      }
      /* icon prefix focus color */
      .input-field .prefix.active {
        color: #fff;
      }

      html {
        overflow-y: hidden;
      }

      #title-text {
        font-size: 120px;
        font-weight: bold;
        margin-top: 0px;
        font-family: 'Lato';
      }

      #search-input {
        width: 400px;
        margin-top: 20px;
      }

      #title-container {
        color: #ff9498;
        margin-top: 20vh;
      }

      #under-text {
        color: white;
      }
      
      @media only screen and (max-width: 600px) {

        #title-text {
          font-size: 70px;
          margin: 0px 0px;
        }

        #welcome-text {
          font-size: 30px;
          margin-bottom: 0px;
        }

        #search-input {
          width: 350px;
        }

        #under-text {
          font-size: 20px;
          margin-top: 10vh;
        }

        #title-container {
          margin-top: 5vh;
        }
      }

    </style>

  </head>

  <body style="background-color: #3b3b3b;">

    <div id="title-container" align="center">
      <h1 id="welcome-text">Welcome to</h1>
      <h1 id="title-text">COVID-19 GRAPHS</h1>
      <h5 id="under-text">Start by searching for a country or state</h5>
      <div id="search-input" class="input-field" autocomplete="off">
        <input id="state" type="text" class="validate autocomplete" autocomplete="off" style="font-size: 30px; color: white; height: 50px;">
        <label for="state" style="font-size: 20px;">Country/State</label>
      </div>
    </div>

    <!--JavaScript at end of body for optimized loading-->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="search.js"></script>
    <script>

      $("#state").on('keyup', function (e) {
          if (e.keyCode === 13) {
              if(getVal($("#state").val()) != "invalid") {
                if(window.location.hostname == "localhost") {
                  window.location.href = "http://localhost:8080/chart.html?search=" + getVal($("#state").val());
                } else if(window.location.hostname == "covidgraphs-b7c17.firebaseapp.com") {
                  window.location.href = "https://covidgraphs-b7c17.firebaseapp.com/chart.html?search=" + getVal($("#state").val());
                } else {
                  window.location.href = "http://covidgraphs.ga/chart.html?search=" + getVal($("#state").val());
                }
              } 
          }
      });

    </script>
  </body>
</html>